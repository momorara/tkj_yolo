ステップ 0:カメラを使う場合はカメラをセットしてください。
パイカメラv1.3の接続についてはカメラ装着説明書を参照ください。


ステップ 1: 仮想環境を作成してPythonを準備
sudo apt update
sudo apt install python3-pip python3-venv -y
# システムのもつパッケージを共有しながら仮想環境を作る
python3 -m venv V_yolo --system-site-packages
# 仮想環境に入る
source V_yolo/bin/activate


ステップ 2: 依存パッケージをインストール
pip install --upgrade pip
pip install ultralytics opencv-python matplotlib
pip install numpy==1.26.4 imutils


ステップ 3: PyTorch を Raspberry Pi 用にインストール
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu

ステップ 4:　yoloディレクトリを作りプログラムをクローン
git clone https://github.com/momorara/tkj_yolo yolo

ステップ 4: YOLO を実行してみる（画像推論）
仮想環境にて、ディレクトリyoloに移動後
静止画については、
python photo_yolo.py
カメラについては、
python camera_yolo.py
を実行してください。


仮想環境から抜ける方法
deactivate
仮想環境（venv）の削除方法
rm -rf V_yolo


動作環境
Raspberry Pi 5 + Bookworm 64bit 12.11 にて、
Python 3.11.2
numpy 1.26.4
simplejpeg  1.8.1
imutils 0.5.4
torchaudio 2.7.1

動作環境について、
Yoloに使用されるライブラリは依存関係がきつくて、
OSやライブラリのバージョンにより動作しない場合があります。
動作しない場合は、動作環境の設定を確認してください。



詳細は
https://github.com/ultralytics/ultralytics/tree/main
を参照ください。
ライセンスについては、
https://github.com/ultralytics/ultralytics/blob/main/LICENSE


バージョンによって微妙にモデルの名前変えるのやめてほしいですね。
